<!doctype html>
<html lang="tr">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"/>
<title>Yönetim Paneli - Poliçe Asistanı</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #ebedee;
    --card: #ffffff;
    --muted-text: #1f2937;
    --primary-text: #1f2937;
    --border-color: #d1d5db;
    --input-bg: #ebedee;
    --input-focus-bg: #e5e7eb;
    --primary: #1f2937;
    --primary-hover: #111827;
    --danger: #b91c1c;
    --danger-hover: #991b1b;
    --shadow: 0 1px 2px 0 rgba(60,64,67,0.075), 0 2px 6px 2px rgba(60,64,67,0.075);
    --radius-m: 40px;
    --radius-l: 20px;
  }
  
  body {
    margin:0;
    font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Arial, sans-serif;
    background-color: var(--bg);
    color: var(--primary-text);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-weight: 400;
  }
  .main-wrapper {
    width: 100%;
    max-width: 600px;
    margin: 40px auto;
    padding: 20px;
    box-sizing: border-box;
  }
  .card-wrapper {
    background-color: var(--card);
    padding: 30px;
    border-radius: var(--radius-l);
    box-shadow: var(--shadow);
  }
  h1 {
    text-align: center;
    font-weight: 300;
    margin-top: 0;
  }
  .input-group {
    margin-bottom: 20px;
  }
  label {
    display: block;
    margin-bottom: 8px;
    color: var(--muted-text);
    font-weight: 400;
  }
  input[type=text], input[type=password], input[type=number] {
    width: 100%;
    padding: 10px 14px;
    border-radius: var(--radius-m);
    border: 1px solid var(--border-color);
    background: var(--input-bg);
    box-sizing: border-box;
    color: var(--primary-text);
    font-size: 15px;
    transition: border-color 0.2s ease, background-color 0.2s ease;
  }
  input:focus {
    outline: none;
    background-color: var(--input-focus-bg);
  }
  .color-input-group {
    display: flex;
    align-items: center;
    gap: 10px;
  }
  input[type="color"] {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    width: 40px;
    height: 40px;
    background-color: transparent;
    border: 1px solid var(--border-color);
    border-radius: 50%;
    cursor: pointer;
  }
  input[type="color"]::-webkit-color-swatch {
    border-radius: 50%;
    border: none;
  }
  input[type="color"]::-moz-color-swatch {
    border-radius: 50%;
    border: none;
  }
  .button {
    width: 100%;
    background-color: var(--primary);
    color: var(--bg);
    border: 1px solid var(--primary);
    padding: 12px 20px;
    border-radius: var(--radius-m);
    font-weight: 400;
    font-size: 15px;
    cursor: pointer;
    transition: background-color 0.2s ease;
  }
  .button:hover {
    background-color: var(--primary-hover);
  }
  .button.secondary {
    background-color: var(--input-bg);
    color: var(--primary-text);
    border-color: var(--border-color);
  }
  .button.secondary:hover {
    background-color: var(--input-focus-bg);
  }
  .button.danger {
    background-color: transparent;
    border-color: var(--danger);
    color: var(--danger);
  }
  .button.danger:hover {
      background-color: var(--danger);
      color: var(--card);
  }
  #admin-panel { display: none; }
  .error-message {
    color: var(--danger);
    text-align: center;
    margin-top: 15px;
    display: none;
  }
  .success-message {
      color: #187040;
      text-align: center;
      margin-bottom: 15px;
      padding: 10px;
      background: rgba(52, 168, 83, 0.1);
      border-radius: var(--radius-m);
      display: none;
  }
  fieldset {
      border: 1px solid var(--border-color);
      border-radius: var(--radius-l);
      padding: 20px;
      margin-bottom: 20px;
  }
  legend {
      padding: 0 10px;
      font-weight: 400;
      color: var(--muted-text);
  }
  .form-actions {
      display: grid;
      gap: 10px;
      margin-top: 20px;
  }
  .header-actions {
      display: flex;
      justify-content: flex-end;
      margin-bottom: 20px;
  }
  .logout-btn {
      background: none;
      border: none;
      color: var(--muted-text);
      cursor: pointer;
      text-decoration: underline;
      font-size: 14px;
  }
</style>
</head>
<body>

<div class="main-wrapper">
  <div id="login-container">
    <div class="card-wrapper">
      <h1>Yönetim Paneli Girişi</h1>
      <form id="loginForm">
        <div class="input-group">
          <label for="username">Kullanıcı Adı</label>
          <input type="text" id="username" required>
        </div>
        <div class="input-group">
          <label for="password">Şifre</label>
          <input type="password" id="password" required>
        </div>
        <button type="submit" class="button">Giriş Yap</button>
        <p id="loginError" class="error-message">Kullanıcı adı veya şifre hatalı.</p>
      </form>
    </div>
  </div>

  <div id="admin-panel">
    <div class="header-actions">
        <button id="logoutBtn" class="logout-btn">Çıkış Yap</button>
    </div>
    <div class="card-wrapper">
      <h1>Site Ayarları</h1>
      <p id="successMessage" class="success-message">Ayarlar başarıyla kaydedildi!</p>
      <form id="settingsForm">
        
        <fieldset>
            <legend>Metin İçerikleri</legend>
            <div class="input-group">
                <label for="text-app-title">Ana Başlık</label>
                <input type="text" id="text-app-title" data-group="texts" data-key="app-title">
            </div>
            <div class="input-group">
                <label for="text-app-subtitle">Alt Başlık</label>
                <input type="text" id="text-app-subtitle" data-group="texts" data-key="app-subtitle">
            </div>
            <div class="input-group">
                <label for="text-app-disclaimer">Sorumluluk Reddi Metni</label>
                <input type="text" id="text-app-disclaimer" data-group="texts" data-key="app-disclaimer">
            </div>
        </fieldset>
        
        <fieldset>
          <legend>Renkler (Açık Tema)</legend>
          <div class="input-group color-input-group">
            <input type="color" id="style-bg" data-group="styles" data-key="--bg">
            <label for="style-bg">Ana Arka Plan Rengi</label>
          </div>
          <div class="input-group color-input-group">
            <input type="color" id="style-card" data-group="styles" data-key="--card">
            <label for="style-card">Kart Arka Plan Rengi</label>
          </div>
           <div class="input-group color-input-group">
            <input type="color" id="style-primary-text" data-group="styles" data-key="--primary-text">
            <label for="style-primary-text">Ana Metin Rengi</label>
          </div>
        </fieldset>

        <fieldset>
            <legend>Stil Ayarları</legend>
            <div class="input-group">
                <label for="style-radius-m">Buton ve İnput Kenar Yuvarlaklığı (px)</label>
                <input type="number" id="style-radius-m" data-group="styles" data-key="--radius-m" placeholder="Örn: 40">
            </div>
            <div class="input-group">
                <label for="style-radius-l">Kart Kenar Yuvarlaklığı (px)</label>
                <input type="number" id="style-radius-l" data-group="styles" data-key="--radius-l" placeholder="Örn: 20">
            </div>
        </fieldset>

        <div class="form-actions">
            <button type="submit" class="button">Ayarları Kaydet</button>
            <button type="button" id="resetBtn" class="button danger">Varsayılana Sıfırla</button>
        </div>
      </form>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const CONFIG_KEY = 'police-asistani-config';
    const loginContainer = document.getElementById('login-container');
    const adminPanel = document.getElementById('admin-panel');
    const loginForm = document.getElementById('loginForm');
    const loginError = document.getElementById('loginError');
    const settingsForm = document.getElementById('settingsForm');
    const successMessage = document.getElementById('successMessage');
    const resetBtn = document.getElementById('resetBtn');
    const logoutBtn = document.getElementById('logoutBtn');

    // --- TEMEL GÜVENLİK (Client-Side) ---
    // NOT: Bu yöntem güvenli değildir. Gerçek bir uygulamada bu bilgiler sunucuda doğrulanmalıdır.
    const CREDENTIALS = { user: 'admin', pass: '1234' };

    const DEFAULT_CONFIG = {
        texts: {
            'app-title': 'Poliçe Asistanı',
            'app-subtitle': 'Brüt maaş ve prim bilgilerinizi girerek 1 ve 10 yıllık potansiyel vergi iadesi ve birikim projeksiyonunuzu anında hesaplayın.',
            'app-disclaimer': 'Sorumluluk reddi: Uygulama girdiğiniz verilere göre varsayımsal sonuçlar vermektedir.'
        },
        styles: {
            '--bg': '#ebedee',
            '--card': '#ffffff',
            '--primary-text': '#1f2937',
            '--radius-m': '40px',
            '--radius-l': '20px'
        }
    };

    function showAdminPanel() {
        loginContainer.style.display = 'none';
        adminPanel.style.display = 'block';
        loadSettingsIntoForm();
    }

    function showLogin() {
        loginContainer.style.display = 'block';
        adminPanel.style.display = 'none';
    }

    function checkLoginStatus() {
        if (sessionStorage.getItem('isLoggedIn') === 'true') {
            showAdminPanel();
        } else {
            showLogin();
        }
    }

    loginForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;

        if (username === CREDENTIALS.user && password === CREDENTIALS.pass) {
            sessionStorage.setItem('isLoggedIn', 'true');
            loginError.style.display = 'none';
            showAdminPanel();
        } else {
            loginError.style.display = 'block';
        }
    });
    
    logoutBtn.addEventListener('click', () => {
        sessionStorage.removeItem('isLoggedIn');
        checkLoginStatus();
    });

    function loadSettingsIntoForm() {
        let currentConfig;
        try {
            const savedConfig = localStorage.getItem(CONFIG_KEY);
            currentConfig = savedConfig ? JSON.parse(savedConfig) : DEFAULT_CONFIG;
        } catch(e) {
            currentConfig = DEFAULT_CONFIG;
        }

        document.querySelectorAll('#settingsForm [data-group]').forEach(input => {
            const group = input.dataset.group;
            const key = input.dataset.key;
            let value = currentConfig[group]?.[key] || '';
            
            if (input.type === 'number' && typeof value === 'string') {
                value = parseInt(value, 10) || '';
            }
            
            input.value = value;
        });
    }

    settingsForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const newConfig = {
            texts: {},
            styles: {}
        };
        document.querySelectorAll('#settingsForm [data-group]').forEach(input => {
            const group = input.dataset.group;
            const key = input.dataset.key;
            let value = input.value;
            
            if (input.type === 'number' && value) {
                value = `${value}px`;
            }
            
            if (group && key && value) {
                newConfig[group][key] = value;
            }
        });

        try {
            localStorage.setItem(CONFIG_KEY, JSON.stringify(newConfig));
            successMessage.style.display = 'block';
            setTimeout(() => { successMessage.style.display = 'none'; }, 3000);
        } catch (e) {
            alert('Ayarlar kaydedilirken bir hata oluştu.');
            console.error(e);
        }
    });

    resetBtn.addEventListener('click', () => {
        if (confirm('Tüm ayarları varsayılana sıfırlamak istediğinizden emin misiniz? Bu işlem geri alınamaz.')) {
            localStorage.removeItem(CONFIG_KEY);
            loadSettingsIntoForm();
            alert('Ayarlar varsayılana sıfırlandı. Ana sayfayı yenileyerek değişiklikleri görebilirsiniz.');
        }
    });

    // Initial Check
    checkLoginStatus();
});
</script>
</body>
</html>
